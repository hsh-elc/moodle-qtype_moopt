define("qtype_moopt/disable_check_button_for_incomplete_submissions",["core/ajax"],(function(ajax){return{initForFileSubmissions:function(checkbuttonid,filemanagerid,draftareaid){let self=this;self.toggleCheckbuttonForFileSubmissions(checkbuttonid,draftareaid);let target=document.getElementById(filemanagerid);new MutationObserver((function(mutations){self.toggleCheckbuttonForFileSubmissions(checkbuttonid,draftareaid)})).observe(target,{attributes:!0,childList:!0,characterData:!0})},initForFreetextSubmissions:function(checkbuttonid,textareaids){let self=this;self.toggleCheckbutton(checkbuttonid,self.checkIfAllTextareasAreEmpty(textareaids));let observer=new MutationObserver((function(mutations){self.toggleCheckbutton(checkbuttonid,self.checkIfAllTextareasAreEmpty(textareaids))}));textareaids.forEach((function(textareaid){let target=document.getElementById(textareaid);observer.observe(target,{attributes:!0,attributeFilter:["value"],subtree:!0,childList:!0})}))},initForFileAndFreetextSubmissions:function(checkbuttonid,filemanagerid,draftareaid,textareaids){let self=this;self.toggleForFileAndFreetextSubmissions(checkbuttonid,draftareaid,textareaids);let target=document.getElementById(filemanagerid);new MutationObserver((function(mutations){self.toggleForFileAndFreetextSubmissions(checkbuttonid,draftareaid,textareaids)})).observe(target,{attributes:!0,childList:!0,characterData:!0});let observerForFreetext=new MutationObserver((function(mutations){self.toggleForFileAndFreetextSubmissions(checkbuttonid,draftareaid,textareaids)}));textareaids.forEach((function(textareaid){let target=document.getElementById(textareaid);observerForFreetext.observe(target,{attributes:!0,attributeFilter:["value"],subtree:!0,childList:!0})}))},toggleCheckbuttonForFileSubmissions:function(checkbuttonid,draftareaid){let self=this;ajax.call([{methodname:"qtype_moopt_check_if_filearea_is_empty",args:{itemid:draftareaid},done:function(result){self.toggleCheckbutton(checkbuttonid,result)},fail:function(errorObject){console.error(errorObject),self.toggleCheckbutton(checkbuttonid,!1)}}])},checkIfAllTextareasAreEmpty:function(textareaids){let onlyEmptyAreas=!0;for(let i=0;i<textareaids.length;i++)if(document.querySelector("#"+textareaids[i]+" textarea").value.length>0){onlyEmptyAreas=!1;break}return onlyEmptyAreas},toggleForFileAndFreetextSubmissions:function(checkbuttonid,draftareaid,textareaids){let self=this;self.checkIfAllTextareasAreEmpty(textareaids)?self.toggleCheckbuttonForFileSubmissions(checkbuttonid,draftareaid):self.toggleCheckbutton(checkbuttonid,!1)},toggleCheckbutton:function(checkbuttonid,disable){document.getElementById(checkbuttonid).disabled=disable}}}));

//# sourceMappingURL=disable_check_button_for_incomplete_submissions.min.js.map