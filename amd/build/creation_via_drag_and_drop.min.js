define ("qtype_programmingtask/creation_via_drag_and_drop",["jquery","core/ajax","qtype_programmingtask/edit_editor_content"],function(a,b,c){return{init:function init(){var b=this;a("#loadproformataskfilebutton").click(function(){b.extractInformation()})},extractInformation:function extractInformation(){var d=a("#id_proformataskfileupload").parent(),e=d.find("[name='proformataskfileupload']")[0].value;d.find;b.call([{methodname:"qtype_programmingtask_extract_task_infos_from_draft_file",args:{itemid:e},done:function done(b){if("undefined"!=typeof b.error){a("#id_error_ajaxerrorlabel").parent().children().first().html("<div>"+b.error+"</div>");return}a("#id_error_ajaxerrorlabel").parent().children().first().html("");a("#id_name").val(b.title);c.setContents("id_questiontext",b.description);c.setContents("id_internaldescription",b.internaldescription);c.setContentsOfText("id_taskuuid",b.taskuuid);c.setContentsOfText("id_defaultmark",b.maxscoregradinghints);c.setContents("id_generalfeedback",b.filestogeneralfeedback);var d="";if("undefined"!=typeof b.moodleValidationWarnings){if("undefined"!=typeof b.moodleValidationProformaNamespace){d="<p>Detected ProFormA-version "+b.moodleValidationProformaNamespace+". Found the following problems during validation but still continued:</p><ul>";b.moodleValidationWarnings.forEach(function(a){d+="<li>"+a+"</li>"});d+="</ul>"}else{d="<p>"+b.moodleValidationWarnings+"</p>"}}a("#id_error_ajaxwarninglabel").parent().children().first().html(d);a("#id_questiontexteditable").focus();a("#id_internaldescriptioneditable").focus();a("#id_generalfeedbackeditable").focus();a("#id_name").focus()},fail:function fail(b){console.log(b);a("#id_error_ajaxerrorlabel").parent().children().first().html("<div>"+b.debuginfo+"</div><div> For more information see browser console.</div>")}}])}}});
//# sourceMappingURL=creation_via_drag_and_drop.min.js.map
